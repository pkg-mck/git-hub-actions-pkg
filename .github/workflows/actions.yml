name: Actions workflow
on:
  #schedule: 
    #- cron: "*/3 * * * *"
  repository_dispatch:
    branches: 
      - develop
    types: [build]
  push:
    branches: #branches-ignore to exclude few branches
      - master
      # - feature/* matches feature/feata, feature/featb doesn't match feature/feat/a
      # - feature/** matches feature/feat/a
      # to exclude a specific feature from regex use !feature/featc
    #tags:   tags-ignore for excluding
       #- v1.*
    #paths:   paths-ignore
       #- '**.js'
       #- 'docs/**'

  pull_request:
    branches:
      - master
    #types: [opened, closed, assigned, reopened]

jobs:
  run-github-actions:
    runs-on: ubuntu-latest
    steps:
      - name: Access client payload from repo repository_dispatch
        run: echo ${{ github.event.client_payload.env }} from dev branch
      - name: List Files
        run: |
          pwd
          ls -a 
          echo $GITHUB_SHA
          echo $GITHUB_REPOSITORY
          echo $GITHUB_WORKSPACE
          echo "${{ github.token }}"
      - name: Checkout
        uses: actions/checkout@v1
      - name: List Files After Checkout
        run: |
          pwd
          ls -a 
      - name: Simple JS Actions
        id: greet 
        uses: actions/hello-world-javascript-action@v1.1
        with:
          who-to-greet: Praveen
      - name: Log Greeting Time
        run: echo "${{ steps.greet.outputs.time}}"